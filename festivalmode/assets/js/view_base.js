var BaseView;BaseView=function(){function BaseView(){if(this.init){this.init.apply(this,arguments)}if(this.$el){this.setupBaseView()}}BaseView.prototype.buildView=function(selector,eventBindings){var $view,template;template=$(selector).html();$view=$(Handlebars.compile(template)(this.model));if(eventBindings){this.bindEvents($view,eventBindings)}return $view};BaseView.prototype.bindView=function(){this.bindEvents(this.$el,this.events);if(this.ui){return this.bindElements(this.$el)}};BaseView.prototype.bindElements=function($scope){return $.each(this.ui,function(_this){return function(key,value){return _this.ui[key]=$scope.find(value)}}(this))};BaseView.prototype.bindEvents=function($scope,eventBindings){return $.each(eventBindings,function(_this){return function(index,binding){return $scope.on(binding[0],binding[1],function(event){return _this[binding[2]]($(event.currentTarget),event)})}}(this))};BaseView.prototype.setupBaseView=function(){return this.hideNonDefaultViews()};BaseView.prototype.hideNonDefaultViews=function(){var $nonDefaultViews;this.injectStyleRule(".is-hidden { display:none; }");$nonDefaultViews=this.$el.find("[data-view]:not([data-default])");return $nonDefaultViews.addClass("is-hidden")};BaseView.prototype.injectStyleRule=function(rule){var html;html="&shy;<style>"+rule+"</style>";return $("<div />",{html:html}).appendTo("body")};BaseView.prototype.triggerViewChange=function($trigger){var stateChange;stateChange=$trigger.attr("data-update-app-state");if(stateChange){this.changeAppState(stateChange,$trigger)}return this.loadView($trigger.attr("data-change-view"))};BaseView.prototype.changeAppState=function(stateChange,$trigger){this.$el.attr("data-page-state",stateChange);$trigger=$trigger||null;if(this.onAfterAppStateChange){return this.onAfterAppStateChange($trigger)}};BaseView.prototype.loadView=function(newView){var $siblings,$view;$view=this.$el.find("[data-view="+newView+"]");$siblings=$view.siblings("[data-view]");$siblings.addClass("is-hidden");$view.removeClass("is-hidden");if(this.onAfterLoadView){return this.onAfterLoadView(newView)}};BaseView.prototype.changeStatus=function($container,status){var activeSelector;$container.attr("data-has-status",status);$container.find("[data-status]").hide();activeSelector="[data-status='"+status+"']";return $container.find(activeSelector).css("display","inline-block")};BaseView.prototype.triggerTappedState=function($trigger){var $parent;$parent=$trigger.closest("[data-tap-animate-source]");if($parent.length){$parent.addClass("tapped");return this.resetTappedState($trigger,$parent)}};BaseView.prototype.resetTappedState=function($trigger,$parent){var delay;delay=$trigger.attr("data-tap-transition-delay")||400;return setTimeout(function(){return $parent.removeClass("tapped")},delay)};return BaseView}();