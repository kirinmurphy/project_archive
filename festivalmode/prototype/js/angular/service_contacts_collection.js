fmApp.service("ContactsCollection",["$rootScope","ContactItem",function($rootScope,ContactItem){var getFriendCountLabel,getFriends,getNearbyFriendCountLabel,getNearbyFriends,staticList;staticList=[{name:"Esteban",relationship:"contact",map_pos_left:"27",map_pos_top:"59",text_pos:"3min - SE",plans:"posting_up",idle:5,online_status:"active",staying_until:"6:30",now_plan:"Going to Cheesies",today_plan:"seeing mudhoney then primus then flaming lips and then probably the cure,"},{name:"Nina Sayers",relationship:"contact",map_pos_left:"45",map_pos_top:"41",text_pos:"1min - NW",plans:"no_plans",idle:6,online_status:"active"},{name:"Tylenol Jones",relationship:"contact",map_pos_left:"65",map_pos_top:"63",text_pos:"4min - SE",plans:"no_plans",idle:12,online_status:"idle",now_plan:"Meeting someone"},{name:"Aubrey Decker",relationship:"contact",map_pos_left:"60",map_pos_top:"26",text_pos:"5min - N",plans:"posting_up",idle:3,online_status:"active",staying_until:"6:10",today_plan:"Wu-Tang! Wu-Tang!"},{name:"David Lieb Hart",relationship:"contact",idle:20,online_status:"offline"},{name:"Dorothy Mantooth",relationship:"contact",idle:null,online_status:"offline"}];this.list=[];$.each(staticList,function(_this){return function(index,item){return _this.list.push(new ContactItem(item,_this))}}(this));this.friendCount=0;this.friendCountLabel="No Friends Yet!";this.nearbyFriendCountLabel="0 Friends";this.updateFriendCounts=function(_this){return function(){_this.friendCount=getFriends().length;_this.friendCountLabel=getFriendCountLabel();return _this.nearbyFriendCountLabel=getNearbyFriendCountLabel()}}(this);getFriendCountLabel=function(_this){return function(){if(!_this.friendCount){return"No Friends Yet!"}else{return $rootScope.utils.pluralize(_this.friendCount," Friend")}}}(this);getNearbyFriendCountLabel=function(_this){return function(){var count;count=getNearbyFriends().length;return $rootScope.utils.pluralize(count," Friend")}}(this);getFriends=function(_this){return function(){return _this.list.filter(function(contact){return contact.isFriend()})}}(this);getNearbyFriends=function(_this){return function(){return _this.list.filter(function(contact){return contact.isNearby()})}}(this)}]);